<div class="row">
  <loader loading="departures.loading"/>
</div>

<div ng-hide="departures.loading">
  <div class="row departure-header">
    <div class="alert alert-info small-padding alert-print hidden-print">
      <div class="col-sm-5 separator hidden-xs">
        <h1 class="line">
          <big>{{departures.departures.line}}</big>
        </h1>
      </div>
      <div class="col-sm-7">
        <h2>
          <stop-name stop="departures.departures.stop_name"></stop-name>
        </h2>
        <span class="margin-left-30">
          <i class="glyphicon glyphicon-chevron-right"></i>
          {{departures.departures.direction_name}}
        </span>
      </div>
      <div class="clearfix"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-8 col-xs-12">
      <div class="alert alert-info small-padding alert-print visible-print-block departure-header">
        <div class="col-sm-5 separator hidden-xs">
          <h1 class="line">
            <big>{{departures.departures.line}}</big>
          </h1>
        </div>
        <div class="col-sm-7">
          <h2>
            <stop-name stop="departures.departures.stop_name"></stop-name>
          </h2>
          <span class="margin-left-30">
            <i class="glyphicon glyphicon-chevron-right"></i>
            {{departures.departures.direction_name}}
          </span>
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="panel panel-info">
        <div class="panel-heading hidden-print">
          <h3>{{ 'DEPARTURES' | translate }}</h3>
        </div>
        <div class="panel-body panel-body-no-padding">
          <departures times="departures.departures" style="{{departures.plaqueStyle.number}}"></departures>
        </div>
      </div>
      <div class="row text-right" ng-cloak>
        <div class="col-xs-12">
         {{ 'VALID' | translate }} {{departures.departures.line_date}}
        </div>
      </div>
      <div class="panel panel-success" ng-if="departures.departures.signs.length > 0">
        <div class="panel-heading hidden-print">
          <h3>{{ 'SIGNS' | translate }}</h3>
        </div>
        <div class="panel-body">
          <ul>
            <li ng-repeat="sign in departures.departures.signs">
              {{sign.sign}} - {{sign.description}}
            </li>
          </ul>
        </div>
      </div>
      <div class="panel panel-danger hidden-print" ng-if="departures.departures.other_lines.length > 1">
        <div class="panel-heading">
          <h3>{{ 'OTHER_LINES' | translate }}</h3>
        </div>
        <div class="panel-body panel-body-no-padding">
          <ul class="nav nav-pills nav-stacked nav-condenced nav-route">
            <li ng-repeat="line in departures.departures.other_lines" ng-if="line.line != departures.line || line.dirnumber != departures.direction">
              <a ui-sref="departures({line: line.line, direction: line.dirnumber, stop: departures.stop})">
                <strong class="red">{{line.line}}</strong> <i class="fa fa-chevron-right"></i> {{line.name}}
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-sm-4 col-xs-12">
      <div class="panel panel-info">
        <div class="panel-heading hidden-print">
          <h3>{{ 'ROUTE' | translate }}</h3>
        </div>
        <div class="panel-body panel-body-no-padding">
          <ul class="nav nav-pills nav-stacked nav-condenced nav-route">
            <li ng-repeat="stop in departures.departures.route" ng-class="{'active': stop.stopid === departures.stop}">
              <a ui-sref="departures({line: departures.line, direction: departures.direction, stop: stop.stopid})">
                <stop-name stop="stop"></stop-name>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

</div>
